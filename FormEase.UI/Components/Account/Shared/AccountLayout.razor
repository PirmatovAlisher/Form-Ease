@inherits LayoutComponentBase
@* @layout FormEase.UI.Components.Layout.MainLayout *@
@* @layout FormEase.UI.Components.Layout.FormEaseLayout  *@
@inject NavigationManager NavigationManager

@if (HttpContext is null)
{
	<p>Loading...</p>
}
else
{
	<div class="d-flex justify-content-center align-items-center min-vh-100">
		<div class="container">
			@Body
		</div>
	</div>
}

@code {
	[CascadingParameter]
	private HttpContext? HttpContext { get; set; }

	protected override void OnParametersSet()
	{
		if (HttpContext is null)
		{
			// If this code runs, we're currently rendering in interactive mode, so there is no HttpContext.
			// The identity pages need to set cookies, so they require an HttpContext. To achieve this we
			// must transition back from interactive mode to a server-rendered page.
			NavigationManager.Refresh(forceReload: true);
		}
	}
}
